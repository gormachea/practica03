---
title: "Practica3"
author: "Marco,Guillermo,Celeste"
date: "2026-01-19"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r carga_libraries, echo = FALSE, message=FALSE, warning=FALSE}
library(readr)
library(dplyr)
library(tidyverse)
library(knitr)
#se omiten mensajes de carga en el documento mediante message=FALSE
```

```{r carga_datos, echo = FALSE,warning=FALSE }
epa_http <- read_table("./epa-http.csv",col_names = FALSE, show_col_types = F)
colnames(epa_http) <- c("origen", "fecha", "tipo", "URL", "protocolo", "responsecode", "bytes")
#se omiten warnings de columnas esperadas en ciertos datos, ya que no son relevantes. 
```

```{r limpieza_comillas, echo = TRUE,warning=FALSE }
epa_http$tipo <- gsub('"', '', epa_http$tipo)
epa_http$protocolo <- gsub('"', '', epa_http$protocolo)
#En la importación de datos notamos que los datos de 2 columnas (tipo, procotolo) tomaron las comillas dobles como texto por lo que debemos quitarlas para tener limpios los datos.
```

```{r limpieza_no_200, echo = TRUE,warning=FALSE }
epa_http$bytes <- gsub('-', 0, epa_http$bytes)
epa_http$bytes[epa_http$bytes == ""] <- 0
epa_http[is.na(epa_http)] <- '0'
#En la importación de datos notamos que en la cantidad de bytes transferidos, algunas peticiones tuvieron una respuesta distinta a 200 por lo que no hubo transferencia de datos a lo que se marcó como - o vacío, para poder trabajarlo como numérico debemos limpiar dichos datos no numéricos para que todo coincida.
```

```{r formateo_fecha, echo = TRUE,warning=FALSE }
epa_http <- epa_http %>%
  mutate(fecha = gsub("\\[", "", fecha))
epa_http <- epa_http %>%
  mutate(fecha = gsub("\\]", "", fecha))
epa_http <- epa_http %>%
  separate(
    col = fecha,
    into = c("dias", "horas", "minutos", "segundos"),
    sep = ":",
    convert = TRUE
  )
#Por defecto el TimeStamp viene con el formato [DD:HH:MM:SS] por lo que lo separamos para poder trabajar correctamente.
```

```{r aplicar_formato, echo = TRUE,warning=FALSE }
epa_http$bytes <- as.numeric(epa_http$bytes)

```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
